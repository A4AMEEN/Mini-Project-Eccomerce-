<!DOCTYPE HTML>
<html>

	<head>
	<title>FootwearZ</title>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Rokkitt:100,300,400,700" rel="stylesheet">
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<!------ Include the above in your HEAD tag ---------->
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Ion Icon Fonts-->
	<link rel="stylesheet" href="css/ionicons.min.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.min.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="css/magnific-popup.css">

	<!-- Flexslider  -->
	<link rel="stylesheet" href="css/flexslider.css">

	<!-- Owl Carousel -->
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">
	
	<!-- Date Picker -->
	<link rel="stylesheet" href="css/bootstrap-datepicker.css">
	<!-- Flaticons  -->
	<link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="css/style.css">
	<style>
        .zoom-box {
            width: 100%;
            height: 300px;
            overflow: hidden;
            position: relative;
        }
    </style>

	</head>
	<body>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Grid</title>
	<style>
        .zoom-box {
            width: 100%;
            height: 300px;
            overflow: hidden;
            position: relative;
        }
    </style>
    <style>
        .product-entry .prod-img {
            position: relative;
            overflow: hidden;
        }

        .product-entry .prod-img img {
            transition: transform 0.3s ease;
            width: 100%;
            height: auto;
        }
		.stocks-available {
    display: none;
}


        .product-entry .prod-img:hover img {
            transform: scale(1.1); /* Adjust the scale factor for your desired zoom level */
        }
.row {
    margin-top: 20px; /* Adjust spacing */
}

/* Style category links */
.category-links {
    list-style: none;
    padding: 0;
}

.category-links li {
    text-align: center;
}

.category-links a {
    margin: 5px;
    padding: 8px 20px;
    border-radius: 5px;
    text-decoration: none;
}

/* Style category buttons */

.wishlist-btn {
    margin-top: 10px; /* Adjust top margin as needed */
    text-align: right; /* Center the button */
}

.btn-yellow {
    background-color: yellow;
    color: black;
}

.btn-green {
    background-color: green;
    color: white;
}
.fixed-size-image {
    width: 300px; /* Define your desired width */
    height: 200px; /* Define your desired height */
    object-fit: cover; /* This property ensures the image retains its aspect ratio */
}

.btn-red {
    background-color: red;
    color: white;
}
/* Style for the filter button */
#showFiltersBtn {
  background-color: green;
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 5px;
  cursor: pointer;
}

#showFiltersBtn i {
  margin-left: 5px;
}

/* Toggle display for the filter options */
#priceFilters {
  margin-top: 10px;
}

/* JavaScript function to toggle display of filter options */




    </style>
		
	<div class="colorlib-loader"></div>

	<div id="page">
		<nav class="colorlib-nav" role="navigation">
			<div class="top-menu">
				<div class="container">
					<div class="row">
						<div class="col-sm-7 col-md-9">
							<div id="colorlib-logo"><a href="index">FootwearZ</a></div>
						</div>
						<form action="/men" method="get" class="search-wrap">
							<div class="form-group">
							  <input type="search" class="form-control search" placeholder="Search" name="search">
							  <button class="btn btn-primary submit-search text-center" type="submit"><i class="icon-search"></i></button>
							</div>
						  </form>
		         </div>
				 <div class="row">
                    <div class="col-sm-12 text-left menu-1">
                        <ul>
                            <li class=""><a href="/">Home</a></li>
                           <li class="active"><a href="men">Shop</a></li>
                            <li><a href="/about">About</a></li>
                            <li><a href="/wishlist">Wishlists</a></li>
                            <li class="cart"><a href="/profile"><i class="fas fa-user"></i> Profile</a></li>
							<li class="cart"><a href="/cart"><i class="icon-shopping-cart"></i> Cart[<%= cartLength %>]</a></li>
                            <li class="cart"><a href="/detail"><i class=""></i> Orders</a></li>
							<li class="cart"><a href="/Wallet"><i class="fas fa-wallet"></i> Wallet[â‚¹<%= walletBalance %>]</a></li>

                        </ul>
                    </div>
                </div>
						</div>
					</div>
					
					<div class="sale">
						<div class="container">
							<div class="row">
								<div class="col-sm-8 offset-sm-2 text-center">
									<div class="row">
										<div class="owl-carousel2">
											<% coupons.forEach(coupon => { %>
												<div class="item">
													<div class="col">
														<h3>
															<a href="#">
																<%= coupon.discription %>: <%= coupon.code %>
																<button class="copy-code-btn" data-code="<%= coupon.code %>">
																	<i class="far fa-copy"></i> <!-- Font Awesome copy icon -->
																</button>
															</a>
														</h3>
													</div>
												</div>
											<% }); %>
											
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					
			
		</nav>

		<div class="breadcrumbs">
			<div class="container">
				<div class="row">
				</div>
			</div>
		</div>

		<div class="breadcrumbs-two">
			<div class="container">
				<div class="row">
					<div class="col">
						<div class="breadcrumbs-img" style="background-image: url(images/cover-img-1.jpg);">
							<h2>Men's</h2>
						</div>
						<div class="menu text-center">
							<a href="/men?category=Mens" class="btn btn-yellow">Mens</a> <a href="/men?category=Offroads" class="btn btn-green">Offroads</a> <a href="/men?category=Boots" class="btn btn-red">Boots</a><a href="/men?category=Casuals" class="btn btn-yellow">Casuals</a>		<a href="/men?category=Sports" class="btn btn-green">Sports</a>		<a href="/men?category=Spikes" class="btn btn-red">Spikes</a>


						</div>
					</div>
				</div>
			</div>
		</div>
		
		

		<div class="colorlib-featured">
			<div class="container">
				<button id="showFiltersBtn" onclick="toggleFilters()" class="btn btn-success" >
					<span>Filter</span>
					<i class="fas fa-filter"></i>
				  </button>
				  
				  <form id="priceFilters" action="/men" method="GET" style="display: none;">
					<h3>Filter by Price Range:</h3>
					<input type="checkbox" id="range1" name="priceRange" value="100-499">
					<label for="range1">$100 - $499</label><br>
					
					<input type="checkbox" id="range2" name="priceRange" value="500-999">
					<label for="range2">$500 - $999</label><br>
					
					<input type="checkbox" id="range3" name="priceRange" value="1000-1499">
					<label for="range3">$1000 - $1499</label><br>
					
					<input type="checkbox" id="range4" name="priceRange" value="1500-2000">
					<label for="range4">$1500 - $2000</label><br>
					
					<!-- Add more ranges as needed -->
					
					<input type="submit" value="Apply Filter">
				  </form>
				  
				
				
				
				<div class="row justify-content-center"> <!-- Center the content -->
					<div class="col-sm-4 text-center">
						<div class="featured">
							<div class="featured-img featured-img-2" style="background-image: url(images/men.jpg);">
								<h2>Mens</h2>
								<button class="btn btn-yellow btn-lg" data-category="Men">Men</button>
							</div>
						</div>
					</div>
					<div class="col-sm-4 text-center">
						<div class="featured">
							<div class="featured-img featured-img-2" style="background-image: url(images/women.jpg);">
								<h2>Womens</h2>
								    <button class="btn btn-primary btn-lg" data-category="Men">  Women  </button>
							</div>
						</div>
					</div>
					<!-- Price Filter Form -->
					
					<!-- Category Filter Links -->
					<div class="col-sm-4 text-center">
						<div class="featured">
							
							<div class="featured-img featured-img-2" style="background-image: url(images/item-11.jpg);">
								<h2>Kids</h2>
								<button class="btn btn-red btn-lg" data-category="Kids">KIDS</button> <!-- Style category buttons -->
							</div>
						</div>
					</div>
				</div>
				
				
			</div>
		</div>
		
			
  
		<div class="container">
			<div class="row">
    <% products.forEach(function(product) { %>
        <div class="col-md-6 col-lg-4 mb-3">
            <div class="product-entry card h-200">
                <!-- Product Image -->
                <a href="/product-detail/<%= product._id %>" class="prod-img">
                    <img src="/images/<%= product.images[0] %>" class="card-img-top fixed-size-image" alt="<%= product.name %>" style="width: 350px; height: 350px;">
                </a>

                <!-- Product Details -->
                <div class="card-body">
                    <p class="card-text font-weight-bold"><a href="#">Product: <%= product.name %></a></p>
                    <p class="card-text font-weight-bold">Category: <%= product.catagory %></p>

                    <!-- Check Stock -->
                    <% if (product.stocks < 1) { %>
                        <p class="card-text font-weight-bold text-danger">Out of Stock</p>
                    <% } else { %>
                        <p class="card-text font-weight-bold stocks-available">Stocks: <%= product.stocks %></p>
                    <% } %>

                    <!-- Price, Discount, and Offer -->
                    <div class="d-flex justify-content-between align-items-center">
                        <% if (product.offer && product.discount > 0) { %>
                            <% 
                                let discountedPrice = product.price - (product.price * (product.offer / 100));
                            %>
                            <span class="price font-weight-bold" style="text-decoration: line-through;">Price: &#8377 <%= product.price %></span>
                            <strong class="price font-weight-bold">OFFER:-<%= product.discount %>&#8377-<%=product.offer %>%OFF</strong>
                            
                        <% } else { %>
							<span class="price font-weight-bold">Price: &#8377 <%= Math.floor(product.price) %></span>
							<% } %>
                    </div>

                    <!-- View Product Button -->
                    <div class="d-flex justify-content-between align-items-center">
                        <a href="/product-detail/<%= product._id %>" class="btn btn-success btn-sm" data-mdb-toggle="tooltip" title="View Product">
                            <i class="fas fa-eye"></i> View Product
                        </a>

                        <!-- Wishlist Button -->
                        <div class="wishlist-btn">
                            <% if (product.inWishlist === true) { %>
                                <form action="/wishlist/remove" method="post">
                                    <input type="hidden" name="productId" value="<%= product._id %>">
                                    <button type="submit" class="btn btn-danger btn-sm" data-mdb-toggle="tooltip" title="Remove from Wishlist">
                                        <i class="fas fa-heart"></i> Wishlist Added
                                    </button>
                                </form>
                            <% } else { %>
                                <form action="/wishlist/add" method="post">
                                    <input type="hidden" name="productId" value="<%= product._id %>">
                                    <button type="submit" class="btn btn-success btn-sm" data-mdb-toggle="tooltip" title="Add to Wishlist">
                                        <i class="fas fa-heart"></i> Add to Wishlist
                                    </button>
                                </form>
                            <% } %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <% }); %>
</div>


			<!-- Pagination -->
			<div class="row">
				<div class="col-md-12 text-center">
					<style>
						.pagination {
						  display: flex;
						  justify-content: center;
						  align-items: center;
						}
					  
						.pagination a {
						  display: inline-block;
						  width: 30px;
						  height: 30px;
						  border-radius: 50%;
						  border: 1px solid #ccc;
						  text-align: center;
						  line-height: 30px;
						  margin: 0 5px;
						  text-decoration: none;
						}
					  
						.pagination a.active {
						  background-color: #007bff;
						  color: #fff;
						}
					  </style>
					  
					  <div class="pagination">
						<% for(let i = 1; i <= totalPages; i++) { %>
							<a href="?page=<%= i %>" class="<%= currentPage == i ? 'active' : '' %>">
								<%= i %>
							</a>
						<% } %>
					  </div>
				</div>
			</div>
			
			
		  </div>
		  

		<div class="colorlib-partner">
			<div class="container">
				<div class="row">
					<div class="col-sm-8 offset-sm-2 text-center colorlib-heading colorlib-heading-sm">
						<h2>Trusted Partners</h2>
					</div>
				</div>
				<div class="row">
					<div class="col partner-col text-center">
						<img src="images/brand-1.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
					</div>
					<div class="col partner-col text-center">
						<img src="images/brand-2.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
					</div>
					<div class="col partner-col text-center">
						<img src="images/brand-3.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
					</div>
					<div class="col partner-col text-center">
						<img src="images/brand-4.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
					</div>
					<div class="col partner-col text-center">
						<img src="images/brand-5.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
					</div>
				</div>
			</div>
		</div>

		<footer id="colorlib-footer" role="contentinfo">
			<div class="container">
				<div class="row row-pb-md">
					<div class="col footer-col colorlib-widget">
						<h4>About Footwear</h4>
						<p>Even the all-powerful Pointing has no control about the blind texts it is an almost unorthographic life</p>
						<p>
							<ul class="colorlib-social-icons">
								<li><a href="#"><i class="icon-twitter"></i></a></li>
								<li><a href="#"><i class="icon-facebook"></i></a></li>
								<li><a href="#"><i class="icon-linkedin"></i></a></li>
								<li><a href="#"><i class="icon-dribbble"></i></a></li>
							</ul>
						</p>
					</div>
					<div class="col footer-col colorlib-widget">
						<h4>Customer Care</h4>
						<p>
							<ul class="colorlib-footer-links">
								<li><a href="#">Contact</a></li>
								<li><a href="#">Returns/Exchange</a></li>
								<li><a href="#">Gift Voucher</a></li>
								<li><a href="#">Wishlist</a></li>
								<li><a href="#">Special</a></li>
								<li><a href="#">Customer Services</a></li>
								<li><a href="#">Site maps</a></li>
							</ul>
						</p>
					</div>
					<div class="col footer-col colorlib-widget">
						<h4>Information</h4>
						<p>
							<ul class="colorlib-footer-links">
								<li><a href="#">About us</a></li>
								<li><a href="#">Delivery Information</a></li>
								<li><a href="#">Privacy Policy</a></li>
								<li><a href="#">Support</a></li>
								<li><a href="#">Order Tracking</a></li>
							</ul>
						</p>
					</div>

					<div class="col footer-col">
						<h4>News</h4>
						<ul class="colorlib-footer-links">
							<li><a href="blog">Blog</a></li>
							<li><a href="#">Press</a></li>
							<li><a href="#">Exhibitions</a></li>
						</ul>
					</div>

					<div class="col footer-col">
						<h4>Contact Information</h4>
						<ul class="colorlib-footer-links">
							<li>291 South 21th Street, <br> Suite 721 New York NY 10016</li>
							<li><a href="tel://1234567920">+ 1235 2355 98</a></li>
							<li><a href="mailto:info@yoursite.com">info@yoursite.com</a></li>
							<li><a href="#">yoursite.com</a></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="copy">
				<div class="row">
					<div class="col-sm-12 text-center">
						<p>
							<span><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></span> 
							<span class="block">Demo Images: <a href="http://unsplash.co/" target="_blank">Unsplash</a> , <a href="http://pexels.com/" target="_blank">Pexels.com</a></span>
						</p>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const categoryButtons = document.querySelectorAll(".category-button");
			const productEntries = document.querySelectorAll(".product-entry");
		
			categoryButtons.forEach(function (button) {
				button.addEventListener("click", function () {
					const selectedCategory = this.getAttribute("data-category");
		
					productEntries.forEach(function (entry) {
						const productCategory = entry.getAttribute("data-category");
		
						if (selectedCategory === "All" || selectedCategory === productCategory) {
							entry.style.display = "block"; // Show matching items
						} else {
							entry.style.display = "none"; // Hide non-matching items
						}
					});
				});
			});
		});
		</script>
		<script>function toggleFilters() {
			var filtersForm = document.getElementById("priceFilters");
			filtersForm.style.display = filtersForm.style.display === "none" ? "block" : "none";
		  }
		  </script>
		
	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="ion-ios-arrow-up"></i></a>
	</div>
	<!-- Add the necessary scripts -->
<script>
	// Assuming 'coupons' is an array of coupon objects
	// Function to fetch active coupons from the server
async function fetchActiveCoupons() {
  try {
    const response = await fetch('/api/coupons/active'); // Replace with your API endpoint
    if (!response.ok) {
      throw new Error('Failed to fetch active coupons');
    }

    const activeCoupons = await response.json();
    return activeCoupons;
  } catch (error) {
    console.error('Error fetching active coupons:', error);
    throw error;
  }
}

// Function to display coupons in the carousel
async function displayCoupons() {
  try {
    const activeCoupons = await fetchActiveCoupons();
    const carousel = document.querySelector('.owl-carousel2');

    activeCoupons.forEach(coupon => {
      const couponItem = document.createElement('div');
      couponItem.classList.add('item');
      couponItem.innerHTML = `
        <div class="col">
          <h3><a href="#">25% off (Almost) Everything! Use Code: ${coupon.code}</a></h3>
        </div>
      `;
      carousel.appendChild(couponItem);
    });
  } catch (error) {
    console.error('Error displaying coupons:', error);
  }
}

// Call the function to display coupons when the DOM is ready
document.addEventListener('DOMContentLoaded', displayCoupons);

  </script>
  <script>
	// Get all copy button elements
const copyButtons = document.querySelectorAll('.copy-code-btn');

// Add click event listener to each button
copyButtons.forEach(button => {
    button.addEventListener('click', () => {
        const codeToCopy = button.getAttribute('data-code');
        copyToClipboard(codeToCopy);
        // Optionally, provide user feedback here (e.g., tooltip, alert) to indicate the code was copied
    });
});

// Function to copy text to clipboard
function copyToClipboard(text) {
    const tempInput = document.createElement('input');
    tempInput.value = text;
    document.body.appendChild(tempInput);
    tempInput.select();
    document.execCommand('copy');
    document.body.removeChild(tempInput);
}

  </script>
  <script></script>
  
	
	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
   <!-- popper -->
   <script src="js/popper.min.js"></script>
   <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/elevatezoom/3.0.8/jquery.elevatezoom.min.js"></script>
   <!-- bootstrap 4.1 -->
   <script src="js/bootstrap.min.js"></script>
   <!-- jQuery easing -->
   <script src="js/jquery.easing.1.3.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Flexslider -->
	<script src="js/jquery.flexslider-min.js"></script>
	<!-- Owl carousel -->
	<script src="js/owl.carousel.min.js"></script>
	<!-- Magnific Popup -->
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/magnific-popup-options.js"></script>
	<!-- Date Picker -->
	<script src="js/bootstrap-datepicker.js"></script>
	<!-- Stellar Parallax -->
	<script src="js/jquery.stellar.min.js"></script>
	<!-- Main -->
	<script src="js/main.js"></script>
		<!-- jQuery -->
		<script src="js/jquery.min.js"></script>
		<!-- popper -->
		<script src="js/popper.min.js"></script>
		<!-- bootstrap 4.1 -->
		<script src="js/bootstrap.min.js"></script>
		<!-- jQuery easing -->
		<script src="js/jquery.easing.1.3.js"></script>
		 <!-- Waypoints -->
		 <script src="js/jquery.waypoints.min.js"></script>
		 <!-- Flexslider -->
		 <script src="js/jquery.flexslider-min.js"></script>
		 <!-- Owl carousel -->
		 <script src="js/owl.carousel.min.js"></script>
		 <!-- Magnific Popup -->
		 <script src="js/jquery.magnific-popup.min.js"></script>
		 <script src="js/magnific-popup-options.js"></script>
		 <!-- Date Picker -->
		 <script src="js/bootstrap-datepicker.js"></script>
		 <!-- Stellar Parallax -->
		 <script src="js/jquery.stellar.min.js"></script>
		 <!-- Main -->
		 <script src="js/main.js"></script>

	</body>
</html>

